pub fn test() {
    test_value = {a = 0; for t in 1..4 { a += "0{t}0" as integer }; a};
    assert(
        test_value == 60,
        "Test failed {test_value} != 60"
    );
}
fn n_test() {#block(1):void
  __work_2(1):text = "";
  __work_1(1):text = "";
  [2] test_value(1):integer = {#block(2):integer
    a(2):integer = 0i32;
    {#For block(3):void
      t#index(3):integer = OpConvIntFromNull();
      loop {#For loop_4
        t(4):integer = {#Iter range(5):integer
          t#index(3):integer = if OpNot(OpConvBoolFromInt(t#index(3))) 1i32 else OpAddInt(t#index(3), 1i32);
          if OpLeInt(4i32, t#index(3)) break(0) else null;
          t#index(3);
        }#Iter range(5):integer;
        {#block(6):void
          a(2):integer = OpAddInt(a(2), OpCastIntFromText({#Formatted string(7):text["__work_1"]
            __work_1(1):text = "0";
            OpFormatLong(__work_1(1), OpConvLongFromInt(t(4)), 10i32, 0i32, 32i32, false, false);
            OpAppendText(__work_1(1), "0");
            __work_1(1);
          }#Formatted string(7):text["__work_1"]));
        }#block(6):void;
      }#For loop_4;
    }#For block(3):void;
    a(2);
  }#block(2):integer;
  [3] if OpEqInt(test_value(1), 60i32) null else OpPanic({#Formatted string(8):text["__work_2"]
    __work_2(1):text = "Test failed ";
    OpFormatLong(__work_2(1), OpConvLongFromInt(test_value(1)), 10i32, 0i32, 32i32, false, false);
    OpAppendText(__work_2(1), " != 60");
    __work_2(1);
  }#Formatted string(8):text["__work_2"]);
  OpFreeText(__work_1(1));
  OpFreeText(__work_2(1));
}#block(1):void

byte-code for work_loop:n_test()
   0[0]: return-address
   0[4]: Text() var=__work_2[4]:text
   1[28]: Text() var=__work_1[28]:text
   2[52]: [2] ConstInt(val=0) -> integer var=a[52]:integer
   7[56]: ConvIntFromNull() -> integer var=t#index[56]:integer
   8[60]: VarInt(var[56]) -> integer var=t#index[56]:integer
  11[64]: ConvBoolFromInt(v1: integer) -> boolean
  12[61]: Not(v1: boolean) -> boolean
  13[61]: GotoFalseWord(jump=24, if_false: boolean)
  16[60]: ConstInt(val=1) -> integer
  21[64]: GotoWord(jump=33)
  24[60]: VarInt(var[56]) -> integer var=t#index[56]:integer
  27[64]: ConstInt(val=1) -> integer
  32[68]: AddInt(v1: integer, v2: integer) -> integer
  33[64]: PutInt(var[56], value: integer)
  36[60]: ConstInt(val=4) -> integer
  41[64]: VarInt(var[56]) -> integer var=t#index[56]:integer
  44[68]: LeInt(v1: integer, v2: integer) -> boolean
  45[61]: GotoFalseWord(jump=51, if_false: boolean)
  48[60]: GotoWord(jump=103)
  51[60]: VarInt(var[56]) -> integer var=t#index[56]:integer
  54[64]: VarInt(var[52]) -> integer var=a[52]:integer
  57[68]: ClearText(var[28]) var=__work_1[28]:text
  60[68]: ConstText(_value="0") -> text
  63[84]: AppendText(var[28], v1: text)
  66[68]: VarInt(var[60]) -> integer var=t[60]:integer
  69[72]: ConvLongFromInt(v1: integer) -> long
  70[76]: ConstInt(val=0) -> integer
  75[80]: FormatLong(var[28], val: long, radix=10, width: integer, token=32, plus=false, note=false)
  82[68]: ConstText(_value="0") -> text
  85[84]: AppendText(var[28], v1: text)
  88[68]: VarText(var[28]) -> text var=__work_1[28]:text
  91[84]: CastIntFromText(v1: text) -> integer
  92[72]: AddInt(v1: integer, v2: integer) -> integer
  93[68]: PutInt(var[52], value: integer)
  96[64]: FreeStack(value=0, discard=4)
 100[60]: GotoWord(jump=8)
 103[60]: FreeStack(value=0, discard=4)
 107[56]: VarInt(var[52]) -> integer var=a[52]:integer
 110[60]: FreeStack(value=4, discard=8)
 114[56]: [3] VarInt(var[52]) -> integer var=test_value[52]:integer
 117[60]: ConstInt(val=60) -> integer
 122[64]: EqInt(v1: integer, v2: integer) -> boolean
 123[57]: GotoFalseWord(jump=129, if_false: boolean)
 126[56]: GotoWord(jump=180)
 129[56]: ClearText(var[4]) var=__work_2[4]:text
 132[56]: ConstText(_value="Test failed ") -> text
 146[72]: AppendText(var[4], v1: text)
 149[56]: VarInt(var[52]) -> integer var=test_value[52]:integer
 152[60]: ConvLongFromInt(v1: integer) -> long
 153[64]: ConstInt(val=0) -> integer
 158[68]: FormatLong(var[4], val: long, radix=10, width: integer, token=32, plus=false, note=false)
 165[56]: ConstText(_value=" != 60") -> text
 173[72]: AppendText(var[4], v1: text)
 176[56]: VarText(var[4]) -> text var=__work_2[4]:text
 179[72]: Panic(message: text)
 180[56]: FreeText(var[28])
 183[56]: FreeText(var[4])
 186[56]: Return(ret=0, value=0, discard=56)

Execute test:
    0:[8] Text()
    1:[32] [2] Text()
    2:[56] ConstInt(val=0) -> 0[56]
    7:[60] ConvIntFromNull() -> -2147483648[60]
    8:[64] VarInt(var[60]) -> -2147483648[64]
   11:[68] ConvBoolFromInt(v1=-2147483648[64]) -> false[64]
   12:[65] Not(v1=false[64]) -> true[64]
   13:[65] GotoFalseWord(jump=24, if_false=true[64])
   16:[64] ConstInt(val=1) -> 1[64]
   21:[68] GotoWord(jump=33)
   33:[68] PutInt(var[60], value=1[64])
   36:[64] ConstInt(val=4) -> 4[64]
   41:[68] VarInt(var[60]) -> 1[68]
   44:[72] LeInt(v1=4[64], v2=1[68]) -> false[64]
   45:[65] GotoFalseWord(jump=51, if_false=false[64])
   51:[64] VarInt(var[60]) -> 1[64]
   54:[68] VarInt(var[56]) -> 0[68]
   57:[72] ClearText(var[32])
   60:[72] ConstText(_value="0") -> "0"[72]
   63:[88] AppendText(var[32], v1="0"[72])
   66:[72] VarInt(var[64]) -> 1[72]
   69:[76] ConvLongFromInt(v1=1[72]) -> 1[72]
   70:[80] ConstInt(val=0) -> 0[80]
   75:[84] FormatLong(var[32], val=1[72], radix=10, width=0[80], token=32, plus=false, note=false)
   82:[72] ConstText(_value="0") -> "0"[72]
   85:[88] AppendText(var[32], v1="0"[72])
   88:[72] VarText(var[32]) -> "010"[72]
   91:[88] CastIntFromText(v1="010"[72]) -> 10[72]
   92:[76] AddInt(v1=0[68], v2=10[72]) -> 10[68]
   93:[72] PutInt(var[56], value=10[68])
   96:[68] FreeStack(value=0, discard=4)
  100:[64] GotoWord(jump=8)
    8:[64] VarInt(var[60]) -> 1[64]
   11:[68] ConvBoolFromInt(v1=1[64]) -> true[64]
   12:[65] Not(v1=true[64]) -> false[64]
   13:[65] GotoFalseWord(jump=24, if_false=false[64])
   24:[64] VarInt(var[60]) -> 1[64]
   27:[68] ConstInt(val=1) -> 1[68]
   32:[72] AddInt(v1=1[64], v2=1[68]) -> 2[64]
   33:[68] PutInt(var[60], value=2[64])
   36:[64] ConstInt(val=4) -> 4[64]
   41:[68] VarInt(var[60]) -> 2[68]
   44:[72] LeInt(v1=4[64], v2=2[68]) -> false[64]
   45:[65] GotoFalseWord(jump=51, if_false=false[64])
   51:[64] VarInt(var[60]) -> 2[64]
   54:[68] VarInt(var[56]) -> 10[68]
   57:[72] ClearText(var[32])
   60:[72] ConstText(_value="0") -> "0"[72]
   63:[88] AppendText(var[32], v1="0"[72])
   66:[72] VarInt(var[64]) -> 2[72]
   69:[76] ConvLongFromInt(v1=2[72]) -> 2[72]
   70:[80] ConstInt(val=0) -> 0[80]
   75:[84] FormatLong(var[32], val=2[72], radix=10, width=0[80], token=32, plus=false, note=false)
   82:[72] ConstText(_value="0") -> "0"[72]
   85:[88] AppendText(var[32], v1="0"[72])
   88:[72] VarText(var[32]) -> "020"[72]
   91:[88] CastIntFromText(v1="020"[72]) -> 20[72]
   92:[76] AddInt(v1=10[68], v2=20[72]) -> 30[68]
   93:[72] PutInt(var[56], value=30[68])
   96:[68] FreeStack(value=0, discard=4)
  100:[64] GotoWord(jump=8)
    8:[64] VarInt(var[60]) -> 2[64]
   11:[68] ConvBoolFromInt(v1=2[64]) -> true[64]
   12:[65] Not(v1=true[64]) -> false[64]
   13:[65] GotoFalseWord(jump=24, if_false=false[64])
   24:[64] VarInt(var[60]) -> 2[64]
   27:[68] ConstInt(val=1) -> 1[68]
   32:[72] AddInt(v1=2[64], v2=1[68]) -> 3[64]
   33:[68] PutInt(var[60], value=3[64])
   36:[64] ConstInt(val=4) -> 4[64]
   41:[68] VarInt(var[60]) -> 3[68]
   44:[72] LeInt(v1=4[64], v2=3[68]) -> false[64]
   45:[65] GotoFalseWord(jump=51, if_false=false[64])
   51:[64] VarInt(var[60]) -> 3[64]
   54:[68] VarInt(var[56]) -> 30[68]
   57:[72] ClearText(var[32])
   60:[72] ConstText(_value="0") -> "0"[72]
   63:[88] AppendText(var[32], v1="0"[72])
   66:[72] VarInt(var[64]) -> 3[72]
   69:[76] ConvLongFromInt(v1=3[72]) -> 3[72]
   70:[80] ConstInt(val=0) -> 0[80]
   75:[84] FormatLong(var[32], val=3[72], radix=10, width=0[80], token=32, plus=false, note=false)
   82:[72] ConstText(_value="0") -> "0"[72]
   85:[88] AppendText(var[32], v1="0"[72])
   88:[72] VarText(var[32]) -> "030"[72]
   91:[88] CastIntFromText(v1="030"[72]) -> 30[72]
   92:[76] AddInt(v1=30[68], v2=30[72]) -> 60[68]
   93:[72] PutInt(var[56], value=60[68])
   96:[68] FreeStack(value=0, discard=4)
  100:[64] GotoWord(jump=8)
    8:[64] VarInt(var[60]) -> 3[64]
   11:[68] ConvBoolFromInt(v1=3[64]) -> true[64]
   12:[65] Not(v1=true[64]) -> false[64]
   13:[65] GotoFalseWord(jump=24, if_false=false[64])
   24:[64] VarInt(var[60]) -> 3[64]
   27:[68] ConstInt(val=1) -> 1[68]
   32:[72] AddInt(v1=3[64], v2=1[68]) -> 4[64]
   33:[68] PutInt(var[60], value=4[64])
   36:[64] ConstInt(val=4) -> 4[64]
   41:[68] VarInt(var[60]) -> 4[68]
   44:[72] LeInt(v1=4[64], v2=4[68]) -> true[64]
   45:[65] GotoFalseWord(jump=51, if_false=true[64])
   48:[64] GotoWord(jump=103)
  103:[64] FreeStack(value=0, discard=4)
  107:[60] VarInt(var[56]) -> 60[60]
  110:[64] FreeStack(value=4, discard=8)
  114:[60] VarInt(var[56]) -> 60[60]
  117:[64] ConstInt(val=60) -> 60[64]
  122:[68] EqInt(v1=60[60], v2=60[64]) -> true[60]
  123:[61] GotoFalseWord(jump=129, if_false=true[60])
  126:[60] GotoWord(jump=180)
  180:[60] FreeText(var[32])
  183:[60] FreeText(var[8])
  186:[60] Return(ret=4294967295[4], value=0, discard=56)
Finished
