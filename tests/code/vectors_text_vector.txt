fn test() { op = ["+=", "*="]; for o in op { print(o); }; }
fn n_test() {#block(1):void
  __ref_1(1):ref(main_vector<text>) = null;
  [1] OpDatabase(__ref_1(1), 15i32);
  op(1):vector<text>["__ref_1"] = OpGetField(__ref_1(1), 0i32, 7i32);
  OpSetInt(__ref_1(1), 0i32, 0i32);
  _elm_1(1):ref(boolean)["op"] = OpNewRecord(op(1), 7i32, 65535i32);
  OpSetText(_elm_1(1), 0i32, "+=");
  OpFinishRecord(op(1), _elm_1(1), 7i32, 65535i32);
  _elm_1(1):ref(boolean)["op"] = OpNewRecord(op(1), 7i32, 65535i32);
  OpSetText(_elm_1(1), 0i32, "*=");
  OpFinishRecord(op(1), _elm_1(1), 7i32, 65535i32);
  {#For block(2):void
    _vector_2(2):vector<text>["op"] = op(1);
    o#index(2):integer = -1i32;
    loop {#For loop_3
      o(3):text["_vector_2"] = {#iter next(4):text
        o#index(2):integer = OpAddInt(o#index(2), 1i32);
        OpGetText(OpGetVector(_vector_2(2), 4i32, o#index(2)), 0i32);
      }#iter next(4):text;
      if OpNot(OpConvBoolFromText(o(3))) {#break(5):void
        OpFreeText(o(3));
        break(0);
      }#break(5):void else null;
      {#block(6):void
        n_print(o(3));
      }#block(6):void;
      OpFreeText(o(3));
    }#For loop_3;
  }#For block(2):void;
  OpFreeRef(__ref_1(1));
}#block(1):void

byte-code for text_vector:n_test()
   0[0]: return-address
   0[4]: ConvRefFromNull() -> ref(reference) var=__ref_1[4]:ref(main_vector<text>)
   1[16]: [1] Database(var[4], db_tp=15) type=main_vector<text> 15
   6[16]: VarRef(var[4]) -> ref(reference) type=main_vector<text> 15 var=__ref_1[4]:ref(main_vector<text>)
   9[28]: GetField(v1: ref(reference), fld=0) -> ref(reference) type=vector<text> 7
  12[28]: VarRef(var[4]) -> ref(reference) type=main_vector<text> 15 var=__ref_1[4]:ref(main_vector<text>)
  15[40]: ConstInt(val=0) -> integer
  20[44]: SetInt(v1: ref(reference), fld=0, val: integer)
  23[28]: VarVector(var[16]) -> vector type=vector<text> 7 var=op[16]:vector<text>["__ref_1"]
  26[40]: NewRecord(data: ref(reference), parent_tp=7, fld=65535) -> ref(reference)
  31[40]: VarRef(var[28]) -> ref(reference) type=boolean 4 var=_elm_1[28]:ref(boolean)["op"]
  34[52]: ConstText(_value="+=") -> text
  38[68]: SetText(v1: ref(reference), fld=0, val: text)
  41[40]: VarVector(var[16]) -> vector type=vector<text> 7 var=op[16]:vector<text>["__ref_1"]
  44[52]: VarRef(var[28]) -> ref(reference) type=boolean 4 var=_elm_1[28]:ref(boolean)["op"]
  47[64]: FinishRecord(data: ref(reference), rec: ref(reference), parent_tp=7, fld=65535)
  52[40]: VarVector(var[16]) -> vector type=vector<text> 7 var=op[16]:vector<text>["__ref_1"]
  55[52]: NewRecord(data: ref(reference), parent_tp=7, fld=65535) -> ref(reference)
  60[52]: PutRef(var[28], value: ref(reference))
  63[40]: VarRef(var[28]) -> ref(reference) type=boolean 4 var=_elm_1[28]:ref(boolean)["op"]
  66[52]: ConstText(_value="*=") -> text
  70[68]: SetText(v1: ref(reference), fld=0, val: text)
  73[40]: VarVector(var[16]) -> vector type=vector<text> 7 var=op[16]:vector<text>["__ref_1"]
  76[52]: VarRef(var[28]) -> ref(reference) type=boolean 4 var=_elm_1[28]:ref(boolean)["op"]
  79[64]: FinishRecord(data: ref(reference), rec: ref(reference), parent_tp=7, fld=65535)
  84[40]: VarVector(var[16]) -> vector type=vector<text> 7 var=op[16]:vector<text>["__ref_1"]
  87[52]: ConstInt(val=-1) -> integer var=o#index[52]:integer
  92[56]: Text() var=o[56]:text["_vector_2"]
  93[80]: VarInt(var[52]) -> integer var=o#index[52]:integer
  96[84]: ConstInt(val=1) -> integer
 101[88]: AddInt(v1: integer, v2: integer) -> integer
 102[84]: PutInt(var[52], value: integer)
 105[80]: VarVector(var[40]) -> vector type=vector<text> 7 var=_vector_2[40]:vector<text>["op"]
 108[92]: VarInt(var[52]) -> integer var=o#index[52]:integer
 111[96]: GetVector(r: vector, size=4, index: integer) -> ref(reference) type=text 5
 114[92]: GetText(v1: ref(reference), fld=0) -> text["op"]
 117[96]: AppendText(var[56], v1: text)
 120[80]: VarText(var[56]) -> text var=o[56]:text["_vector_2"]
 123[96]: ConvBoolFromText(v1: text) -> boolean
 124[81]: Not(v1: boolean) -> boolean
 125[81]: GotoFalseWord(jump=138, if_false: boolean)
 128[80]: FreeText(var[56])
 131[80]: FreeStack(value=0, discard=24)
 135[56]: GotoWord(jump=158)
 138[80]: VarText(var[56]) -> text var=o[56]:text["_vector_2"]
 141[96]: Call(size=0, fn=n_print)
 148[80]: FreeText(var[56])
 151[80]: FreeStack(value=0, discard=24)
 155[56]: GotoWord(jump=92)
 158[56]: FreeStack(value=0, discard=16)
 162[40]: VarRef(var[4]) -> ref(reference) type=main_vector<text> 15 var=__ref_1[4]:ref(main_vector<text>)
 165[52]: FreeRef(v1: ref(reference))
 166[40]: Return(ret=0, value=0, discard=40)

Execute test:
    0:[8] [1] ConvRefFromNull() -> ref(1,0,8)[8]
    1:[20] Database(var[8], db_tp=15)
    6:[20] VarRef(var[8]) -> ref(1,1,8)={}[20]
    9:[32] GetField(v1=ref(1,1,8)[20], fld=0) -> ref(1,1,8)=[][20]
   12:[32] VarRef(var[8]) -> ref(1,1,8)={}[32]
   15:[44] ConstInt(val=0) -> 0[44]
   20:[48] SetInt(v1=ref(1,1,8)[32], fld=0, val=0[44])
   23:[32] VarVector(var[20]) -> ref(1,1,8)=[][32]
   26:[44] NewRecord(data=ref(1,1,8)[32], parent_tp=7, fld=65535) -> ref(1,5,8)[32]
   31:[44] VarRef(var[32]) -> ref(1,5,8)=false[44]
   34:[56] ConstText(_value="+=") -> "+="[56]
   38:[72] SetText(v1=ref(1,5,8)[44], fld=0, val="+="[56])
   41:[44] VarVector(var[20]) -> ref(1,1,8)=[][44]
   44:[56] VarRef(var[32]) -> ref(1,5,8)=true[56]
   47:[68] FinishRecord(data=ref(1,1,8)[44], rec=ref(1,5,8)[56], parent_tp=7, fld=65535)
   52:[44] VarVector(var[20]) -> ref(1,1,8)=["+="][44]
   55:[56] NewRecord(data=ref(1,1,8)[44], parent_tp=7, fld=65535) -> ref(1,5,12)[44]
   60:[56] PutRef(var[32], value=ref(1,5,12)[44])
   63:[44] VarRef(var[32]) -> ref(1,5,12)=false[44]
   66:[56] ConstText(_value="*=") -> "*="[56]
   70:[72] SetText(v1=ref(1,5,12)[44], fld=0, val="*="[56])
   73:[44] VarVector(var[20]) -> ref(1,1,8)=["+="][44]
   76:[56] VarRef(var[32]) -> ref(1,5,12)=true[56]
   79:[68] FinishRecord(data=ref(1,1,8)[44], rec=ref(1,5,12)[56], parent_tp=7, fld=65535)
   84:[44] VarVector(var[20]) -> ref(1,1,8)=["+=","*="][44]
   87:[56] ConstInt(val=-1) -> -1[56]
   92:[60] Text()
   93:[84] VarInt(var[56]) -> -1[84]
   96:[88] ConstInt(val=1) -> 1[88]
  101:[92] AddInt(v1=-1[84], v2=1[88]) -> 0[84]
  102:[88] PutInt(var[56], value=0[84])
  105:[84] VarVector(var[44]) -> ref(1,1,8)=["+=","*="][84]
  108:[96] VarInt(var[56]) -> 0[96]
  111:[100] GetVector(r=ref(1,1,8)[84], size=4, index=0[96]) -> ref(1,5,8)="+="[84]
  114:[96] GetText(v1=ref(1,5,8)[84], fld=0) -> "+="[84]
  117:[100] AppendText(var[60], v1="+="[84])
  120:[84] VarText(var[60]) -> "+="[84]
  123:[100] ConvBoolFromText(v1="+="[84]) -> true[84]
  124:[85] Not(v1=true[84]) -> false[84]
  125:[85] GotoFalseWord(jump=138, if_false=false[84])
  138:[84] VarText(var[60]) -> "+="[84]
  141:[100] Call(size=0, fn=n_print)
  360:[104] ArgText(var[84]) -> "+="[104]
  363:[120] Print(v1="+="[104])
  364:[104] Return(ret=1987[100], value=0, discard=20)
  148:[84] FreeText(var[60])
  151:[84] FreeStack(value=0, discard=24)
  155:[60] GotoWord(jump=92)
   92:[60] Text()
   93:[84] VarInt(var[56]) -> 0[84]
   96:[88] ConstInt(val=1) -> 1[88]
  101:[92] AddInt(v1=0[84], v2=1[88]) -> 1[84]
  102:[88] PutInt(var[56], value=1[84])
  105:[84] VarVector(var[44]) -> ref(1,1,8)=["+=","*="][84]
  108:[96] VarInt(var[56]) -> 1[96]
  111:[100] GetVector(r=ref(1,1,8)[84], size=4, index=1[96]) -> ref(1,5,12)="*="[84]
  114:[96] GetText(v1=ref(1,5,12)[84], fld=0) -> "*="[84]
  117:[100] AppendText(var[60], v1="*="[84])
  120:[84] VarText(var[60]) -> "*="[84]
  123:[100] ConvBoolFromText(v1="*="[84]) -> true[84]
  124:[85] Not(v1=true[84]) -> false[84]
  125:[85] GotoFalseWord(jump=138, if_false=false[84])
  138:[84] VarText(var[60]) -> "*="[84]
  141:[100] Call(size=0, fn=n_print)
  360:[104] ArgText(var[84]) -> "*="[104]
  363:[120] Print(v1="*="[104])
  364:[104] Return(ret=1987[100], value=0, discard=20)
  148:[84] FreeText(var[60])
  151:[84] FreeStack(value=0, discard=24)
  155:[60] GotoWord(jump=92)
   92:[60] Text()
   93:[84] VarInt(var[56]) -> 1[84]
   96:[88] ConstInt(val=1) -> 1[88]
  101:[92] AddInt(v1=1[84], v2=1[88]) -> 2[84]
  102:[88] PutInt(var[56], value=2[84])
  105:[84] VarVector(var[44]) -> ref(1,1,8)=["+=","*="][84]
  108:[96] VarInt(var[56]) -> 2[96]
  111:[100] GetVector(r=ref(1,1,8)[84], size=4, index=2[96]) -> ref(1,0,0)=null[84]
  114:[96] GetText(v1=ref(1,0,0)[84], fld=0) -> null[84]
  117:[100] AppendText(var[60], v1=null[84])
  120:[84] VarText(var[60]) -> null[84]
  123:[100] ConvBoolFromText(v1=null[84]) -> false[84]
  124:[85] Not(v1=false[84]) -> true[84]
  125:[85] GotoFalseWord(jump=138, if_false=true[84])
  128:[84] FreeText(var[60])
  131:[84] FreeStack(value=0, discard=24)
  135:[60] GotoWord(jump=158)
  158:[60] FreeStack(value=0, discard=16)
  162:[44] VarRef(var[8]) -> ref(1,1,8)={vector:["+=","*="]}[44]
  165:[56] FreeRef(v1=ref(1,1,8)[44])
  166:[44] Return(ret=4294967295[4], value=0, discard=40)
Finished
