Type 7:vector<text>[4/4]:Vector(5)

Type 8:Variable[8/4]:
    name:text[0]
    value:text[4]

Type 9:Pixel[3/1]: parents [Image 11]
    r:byte[0]
    g:byte[1]
    b:byte[2]

Type 10:byte[1/1]:Byte(0, false)

Type 11:Image[16/4]:
    name:text[0]
    width:integer[4]
    height:integer[8]
    data:vector<Pixel>[12]

Type 12:vector<Pixel>[4/4]:Vector(9)

Type 13:File[17/8]: parents [main_vector<File> 15]
    path:text[8]
    size:long[0]
    dir:boolean[16]
    ref:integer[12]

Type 14:main_vector<text>[4/4]:
    vector:vector<text>[0]

Type 15:main_vector<File>[4/4]:
    vector:vector<File>[0]

Type 16:vector<File>[4/4]:Vector(13)

fn t_5Pixel_value(self:Pixel) -> integer {#block(1):integer
  [45] OpAddInt(OpAddInt(OpMulInt(OpGetByte(self(0), 0i32, 0i32), 65536i32), OpMulInt(OpGetByte(self(0), 1i32, 0i32), 256i32)), OpGetByte(self(0), 2i32, 0i32));
}#block(1):integer

fn t_4File_content(self:File, result:&text) -> text["result"] {#block(1):text["result"]
  [49] result(0):&text = "";
  [50] txt(1):text = "";
  [51] OpGetFileText(self(0), OpCreateRef(txt(1)));
  [52] OpAppendRefText(result(0), txt(1));
  [53] OpFreeText(txt(1));
  result(0);
}#block(1):text["result"]

fn t_4File_lines(self:File, l:vector<text>) -> vector<text>["??"] {#block(1):vector<text>["l"]
  __work_1(1):text = "";
  [58] c(1):text = t_4File_content(self(0), {#default ref(2):ref(reference)["__work_1"]
    OpCreateRef(__work_1(1));
  }#default ref(2):ref(reference)["__work_1"]);
  [59] p(1):integer = 0i32;
  [60] {#For block(3):void
    ch#index(3):integer = 0i32;
    loop {#For loop_4
      ch(4):character = {#for text next(5):character
        _for_result_1(5):character = OpTextCharacter(c(1), ch#index(3));
        ch#index(3):integer = OpAddInt(ch#index(3), OpLengthCharacter(_for_result_1(5)));
        _for_result_1(5);
      }#for text next(5):character;
      if OpNot(OpConvBoolFromCharacter(ch(4))) {#break(6):void
        break(0);
      }#break(6):void else null;
      {#block(7):void
        [61] if OpEqInt(OpConvIntFromCharacter(ch(4)), OpConvIntFromCharacter(10i32)) {#block(8):void
          [62] _elm_2(8):ref(boolean)["l"] = OpNewRecord(l(0), 7i32, 65535i32);
          OpSetText(_elm_2(8), 0i32, OpGetTextSub(c(1), p(1), OpMinInt(ch#index(3), 1i32)));
          OpFinishRecord(l(0), _elm_2(8), 7i32, 65535i32);
          [63] p(1):integer = OpMinSingleInt(1i32);
        }#block(8):void else if OpLtInt(p(1), 0i32) {#block(9):void
          [65] p(1):integer = ch#index(3);
        }#block(9):void else null;
      }#block(7):void;
    }#For loop_4;
  }#For block(3):void;
  [68] if OpGtInt(p(1), 0i32) {#block(10):void
    [69] _elm_3(10):ref(boolean)["l"] = OpNewRecord(l(0), 7i32, 65535i32);
    OpSetText(_elm_3(10), 0i32, OpGetTextSub(c(1), p(1), t_4text_len(c(1))));
    OpFinishRecord(l(0), _elm_3(10), 7i32, 65535i32);
  }#block(10):void else null;
  [71] OpFreeText(c(1));
  OpFreeText(__work_1(1));
  l(0);
}#block(1):vector<text>["l"]

fn n_file(path:text, result:File) -> File["result"] {#block(1):ref(File)["result"]
  [75] OpDatabase(result(0), 13i32);
  OpSetText(result(0), 8i32, path(0));
  OpSetInt(result(0), 12i32, OpConvIntFromNull());
  OpSetLong(result(0), 0i32, 0i64);
  OpSetByte(result(0), 16i32, 0i32, if false 1i32 else 0i32);
  [76] drop OpGetFile(result(0));
  [77] result(0);
}#block(1):ref(File)["result"]

fn t_4File_files(self:File, result:vector<ref(File)>) -> vector<ref(File)>["??"] {#block(1):vector<ref(File)>["result"]
  [82] if OpEqInt(OpGetByte(self(0), 16i32, 0i32), 1i32) {#block(2):void
    [83] drop OpGetDir(OpGetText(self(0), 8i32), result(0));
  }#block(2):void else null;
  [85] result(0);
}#block(1):vector<ref(File)>["result"]

fn t_4File_png(self:File, result:Image) -> Image["result"] {#block(1):ref(Image)["result"]
  [92] if OpNot(OpEqInt(OpGetByte(self(0), 16i32, 0i32), 1i32)) {#block(2):ref(Image)["result"]
    [93] OpDatabase(result(0), 11i32);
    OpSetText(result(0), 0i32, "");
    OpSetInt(result(0), 4i32, 0i32);
    OpSetInt(result(0), 8i32, 0i32);
    OpSetInt(result(0), 12i32, 0i32);
    [94] drop OpGetPngImage(OpGetText(self(0), 8i32), result(0));
    [95] result(0);
  }#block(2):ref(Image)["result"] else {#block(3):ref(Image)["result"]
    [97] OpConvRefFromNull();
  }#block(3):ref(Image)["result"];
}#block(1):ref(Image)["result"]

