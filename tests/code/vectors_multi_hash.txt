enum Cat { A, B, C };
struct Count { c: Cat, t: text, v: integer};
struct Counting { v: sorted<Count[t,v]>, h: hash<Count[c,t]> };
fn fill(c: Counting) {
  c.v = [
    {c:A, t:"One", v:1},
    {c:B, t:"Two", v:2},
    {c:C, t:"Two", v:20},
    {c:A, t:"Three", v:3},
    {c:C, t:"Four", v:4}
  ]
}

pub fn test() {
    test_value = {c = Counting {}; fill(c); c.h[A,"Three"].v + c.h[C,"Two"].v + c.v["Four",4].v};
    assert(
        test_value == 27,
        "Test failed {test_value} != 27"
    );
}
Type 17:Cat[1]:Enum(["A", "B", "C"])

Type 18:Count[13]:
    c:Cat[12]
    t:text[4]
    v:integer[8]

Type 19:Counting[12]:
    v:ordered<Count[t,v]>[4] other [1]
    h:hash<Count[c,t]>[8] other [65535]

Type 20:ordered<Count[t,v]>[4]:Ordered(18, [(1, true), (2, true)]) keys [tp:6 desc:false field:4, tp:1 desc:false field:8, ]

Type 21:hash<Count[c,t]>[4]:Hash(18, [0, 1]) keys [tp:7 desc:false field:12, tp:6 desc:false field:4, ]

Type 22:vector<Count>[4]:Vector(18)

fn fill(c:Counting) {#block(1):void
  [5] _elm_1(1):ref(Count)["c"] = OpNewRecord(c(0), 19i32, 0i32);
  OpSetEnum(_elm_1(1), 12i32, 1u8(17));
  OpSetText(_elm_1(1), 4i32, "One");
  OpSetInt(_elm_1(1), 8i32, 1i32);
  OpFinishRecord(c(0), _elm_1(1), 19i32, 0i32);
  _elm_1(1):ref(Count)["c"] = OpNewRecord(c(0), 19i32, 0i32);
  OpSetEnum(_elm_1(1), 12i32, 2u8(17));
  OpSetText(_elm_1(1), 4i32, "Two");
  OpSetInt(_elm_1(1), 8i32, 2i32);
  OpFinishRecord(c(0), _elm_1(1), 19i32, 0i32);
  _elm_1(1):ref(Count)["c"] = OpNewRecord(c(0), 19i32, 0i32);
  OpSetEnum(_elm_1(1), 12i32, 3u8(17));
  OpSetText(_elm_1(1), 4i32, "Two");
  OpSetInt(_elm_1(1), 8i32, 20i32);
  OpFinishRecord(c(0), _elm_1(1), 19i32, 0i32);
  _elm_1(1):ref(Count)["c"] = OpNewRecord(c(0), 19i32, 0i32);
  OpSetEnum(_elm_1(1), 12i32, 1u8(17));
  OpSetText(_elm_1(1), 4i32, "Three");
  OpSetInt(_elm_1(1), 8i32, 3i32);
  OpFinishRecord(c(0), _elm_1(1), 19i32, 0i32);
  _elm_1(1):ref(Count)["c"] = OpNewRecord(c(0), 19i32, 0i32);
  OpSetEnum(_elm_1(1), 12i32, 3u8(17));
  OpSetText(_elm_1(1), 4i32, "Four");
  OpSetInt(_elm_1(1), 8i32, 4i32);
  OpFinishRecord(c(0), _elm_1(1), 19i32, 0i32);
}#block(1):void

byte-code for multi_hash:fill(c: ref(Counting)[0])
   0[12]: return-address
   0[16]: [5] VarRef(var[4]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[4]:ref(Counting)
   3[28]: NewRecord(data: ref(reference), parent_tp=19, fld=0) -> ref(reference)
   8[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
  11[40]: ConstEnum(val=1) -> boolean type=Cat[1]:Enum(["A", "B", "C"])[17]
  13[41]: SetEnum(v1: ref(reference), fld=12, val: boolean)
  16[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
  19[40]: ConstText(_value="One") -> text
  24[56]: SetText(v1: ref(reference), fld=4, val: text)
  27[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
  30[40]: ConstInt(val=1) -> integer
  35[44]: SetInt(v1: ref(reference), fld=8, val: integer)
  38[28]: VarRef(var[4]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[4]:ref(Counting)
  41[40]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
  44[52]: FinishRecord(data: ref(reference), rec: ref(reference), parent_tp=19, fld=0)
  49[28]: VarRef(var[4]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[4]:ref(Counting)
  52[40]: NewRecord(data: ref(reference), parent_tp=19, fld=0) -> ref(reference)
  57[40]: PutRef(var[20], value: ref(reference))
  60[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
  63[40]: ConstEnum(val=2) -> boolean type=Cat[1]:Enum(["A", "B", "C"])[17]
  65[41]: SetEnum(v1: ref(reference), fld=12, val: boolean)
  68[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
  71[40]: ConstText(_value="Two") -> text
  76[56]: SetText(v1: ref(reference), fld=4, val: text)
  79[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
  82[40]: ConstInt(val=2) -> integer
  87[44]: SetInt(v1: ref(reference), fld=8, val: integer)
  90[28]: VarRef(var[4]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[4]:ref(Counting)
  93[40]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
  96[52]: FinishRecord(data: ref(reference), rec: ref(reference), parent_tp=19, fld=0)
 101[28]: VarRef(var[4]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[4]:ref(Counting)
 104[40]: NewRecord(data: ref(reference), parent_tp=19, fld=0) -> ref(reference)
 109[40]: PutRef(var[20], value: ref(reference))
 112[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
 115[40]: ConstEnum(val=3) -> boolean type=Cat[1]:Enum(["A", "B", "C"])[17]
 117[41]: SetEnum(v1: ref(reference), fld=12, val: boolean)
 120[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
 123[40]: ConstText(_value="Two") -> text
 128[56]: SetText(v1: ref(reference), fld=4, val: text)
 131[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
 134[40]: ConstInt(val=20) -> integer
 139[44]: SetInt(v1: ref(reference), fld=8, val: integer)
 142[28]: VarRef(var[4]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[4]:ref(Counting)
 145[40]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
 148[52]: FinishRecord(data: ref(reference), rec: ref(reference), parent_tp=19, fld=0)
 153[28]: VarRef(var[4]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[4]:ref(Counting)
 156[40]: NewRecord(data: ref(reference), parent_tp=19, fld=0) -> ref(reference)
 161[40]: PutRef(var[20], value: ref(reference))
 164[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
 167[40]: ConstEnum(val=1) -> boolean type=Cat[1]:Enum(["A", "B", "C"])[17]
 169[41]: SetEnum(v1: ref(reference), fld=12, val: boolean)
 172[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
 175[40]: ConstText(_value="Three") -> text
 182[56]: SetText(v1: ref(reference), fld=4, val: text)
 185[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
 188[40]: ConstInt(val=3) -> integer
 193[44]: SetInt(v1: ref(reference), fld=8, val: integer)
 196[28]: VarRef(var[4]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[4]:ref(Counting)
 199[40]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
 202[52]: FinishRecord(data: ref(reference), rec: ref(reference), parent_tp=19, fld=0)
 207[28]: VarRef(var[4]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[4]:ref(Counting)
 210[40]: NewRecord(data: ref(reference), parent_tp=19, fld=0) -> ref(reference)
 215[40]: PutRef(var[20], value: ref(reference))
 218[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
 221[40]: ConstEnum(val=3) -> boolean type=Cat[1]:Enum(["A", "B", "C"])[17]
 223[41]: SetEnum(v1: ref(reference), fld=12, val: boolean)
 226[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
 229[40]: ConstText(_value="Four") -> text
 235[56]: SetText(v1: ref(reference), fld=4, val: text)
 238[28]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
 241[40]: ConstInt(val=4) -> integer
 246[44]: SetInt(v1: ref(reference), fld=8, val: integer)
 249[28]: VarRef(var[4]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[4]:ref(Counting)
 252[40]: VarRef(var[20]) -> ref(reference) type=Count[13]:{c:Cat[12], t:text[4], v:integer[8]}[18] var=_elm_1[20]:ref(Count)["c"]
 255[52]: FinishRecord(data: ref(reference), rec: ref(reference), parent_tp=19, fld=0)
 260[28]: Return(ret=12, value=0, discard=28)

fn test() {#block(1):void
  __work_1(1):text = "";
  [15] test_value(1):integer = {#block(2):integer
    c(2):ref(Counting) = null;
    OpDatabase(c(2), 19i32);
    OpSetInt(c(2), 4i32, 0i32);
    OpSetInt(c(2), 8i32, 0i32);
    fill(c(2));
    OpAddInt(OpAddInt(OpGetInt(OpGetRecord(OpGetField(c(2), 8i32, 21i32), 21i32, 2i32, 1u8(17), "Three"), 8i32), OpGetInt(OpGetRecord(OpGetField(c(2), 8i32, 21i32), 21i32, 2i32, 3u8(17), "Two"), 8i32)), OpGetInt(OpGetRecord(OpGetField(c(2), 4i32, 20i32), 20i32, 2i32, "Four", 4i32), 8i32));
    OpFreeRef(c(2));
  }#block(2):integer;
  [16] if OpEqInt(test_value(1), 27i32) null else OpPanic({#Formatted string(3):text
    __work_1(1):text = "Test failed ";
    OpFormatInt(__work_1(1), test_value(1), 10i32, 0i32, 32i32, false, false);
    OpAppendText(__work_1(1), " != 27");
    __work_1(1);
  }#Formatted string(3):text);
  OpFreeText(__work_1(1));
}#block(1):void

byte-code for multi_hash:test()
   0[0]: return-address
   0[4]: Text() var=__work_1[8]:text
   1[28]: [15] ConvRefFromNull() -> ref(reference) var=c[32]:ref(Counting)
   2[40]: Database(var[32], db_tp=19) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19]
   7[40]: VarRef(var[32]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[32]:ref(Counting)
  10[52]: ConstInt(val=0) -> integer
  15[56]: SetInt(v1: ref(reference), fld=4, val: integer)
  18[40]: VarRef(var[32]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[32]:ref(Counting)
  21[52]: ConstInt(val=0) -> integer
  26[56]: SetInt(v1: ref(reference), fld=8, val: integer)
  29[40]: VarRef(var[32]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[32]:ref(Counting)
  32[52]: Call(size=0, call=fill[1115])
  39[40]: VarRef(var[32]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[32]:ref(Counting)
  42[52]: GetField(v1: ref(reference), fld=8) -> ref(reference) type=hash<Count[c,t]>[4]:Hash(18, [0, 1]) keys [tp:7 desc:false field:12, tp:6 desc:false field:4, ][21]
  45[52]: ConstText(_value="Three") -> text
  52[68]: ConstEnum(val=1) -> boolean type=Cat[1]:Enum(["A", "B", "C"])[17]
  54[69]: GetRecord(data: ref(reference), db_tp=21, no_keys=2) -> ref(reference)
  58[52]: GetInt(v1: ref(reference), fld=8) -> integer
  61[44]: VarRef(var[32]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[32]:ref(Counting)
  64[56]: GetField(v1: ref(reference), fld=8) -> ref(reference) type=hash<Count[c,t]>[4]:Hash(18, [0, 1]) keys [tp:7 desc:false field:12, tp:6 desc:false field:4, ][21]
  67[56]: ConstText(_value="Two") -> text
  72[72]: ConstEnum(val=3) -> boolean type=Cat[1]:Enum(["A", "B", "C"])[17]
  74[73]: GetRecord(data: ref(reference), db_tp=21, no_keys=2) -> ref(reference)
  78[56]: GetInt(v1: ref(reference), fld=8) -> integer
  81[48]: AddInt(v1: integer, v2: integer) -> integer
  82[44]: VarRef(var[32]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[32]:ref(Counting)
  85[56]: GetField(v1: ref(reference), fld=4) -> ref(reference) type=ordered<Count[t,v]>[4]:Ordered(18, [(1, true), (2, true)]) keys [tp:6 desc:false field:4, tp:1 desc:false field:8, ][20]
  88[56]: ConstInt(val=4) -> integer
  93[60]: ConstText(_value="Four") -> text
  99[76]: GetRecord(data: ref(reference), db_tp=20, no_keys=2) -> ref(reference)
 103[56]: GetInt(v1: ref(reference), fld=8) -> integer
 106[48]: AddInt(v1: integer, v2: integer) -> integer
 107[44]: VarRef(var[32]) -> ref(reference) type=Counting[12]:{v:ordered<Count[t,v]>[4] other [1], h:hash<Count[c,t]>[8] other [65535]}[19] var=c[32]:ref(Counting)
 110[56]: FreeRef(v1: ref(reference))
 111[44]: FreeStack(value=4, discard=16)
 115[32]: [16] VarInt(var[32]) -> integer var=test_value[32]:integer
 118[36]: ConstInt(val=27) -> integer
 123[40]: EqInt(v1: integer, v2: integer) -> boolean
 124[33]: GotoFalseWord(jump=130, if_false: boolean)
 127[32]: GotoWord(jump=180)
 130[32]: ClearText(var[8]) var=__work_1[8]:text
 133[32]: ConstText(_value="Test failed ") -> text
 147[48]: AppendText(var[8], v1: text)
 150[32]: VarInt(var[32]) -> integer var=test_value[32]:integer
 153[36]: ConstInt(val=0) -> integer
 158[40]: FormatInt(var[8], val: integer, radix=10, width: integer, token=32, plus=false, note=false)
 165[32]: ConstText(_value=" != 27") -> text
 173[48]: AppendText(var[8], v1: text)
 176[32]: VarText(var[8]) -> text var=__work_1[8]:text
 179[48]: Panic(message: text)
 180[32]: FreeText(var[8])
 183[32]: Return(ret=0, value=0, discard=32)

Execute test:
    0:[8] [15] Text()
    1:[32] ConvRefFromNull() -> ref(1,0,0)[32]
    2:[44] Database(var[32], db_tp=19)
    7:[44] VarRef(var[32]) -> ref(1,1,0)={v:[]}[44]
   10:[56] ConstInt(val=0) -> 0[56]
   15:[60] SetInt(v1=ref(1,1,0)[44], fld=4, val=0[56])
   18:[44] VarRef(var[32]) -> ref(1,1,0)={v:[]}[44]
   21:[56] ConstInt(val=0) -> 0[56]
   26:[60] SetInt(v1=ref(1,1,0)[44], fld=8, val=0[56])
   29:[44] VarRef(var[32]) -> ref(1,1,0)={v:[]}[44]
   32:[56] Call(size=0, call=fill[1115])
 1115:[60] VarRef(var[44]) -> ref(1,1,0)={v:[]}[60]
 1118:[72] NewRecord(data=ref(1,1,0)[60], parent_tp=19, fld=0) -> ref(1,13,0)[60]
 1123:[72] VarRef(var[60]) -> ref(1,13,0)={}[72]
 1126:[84] ConstEnum(val=1) -> A(1)[84]
 1128:[85] SetEnum(v1=ref(1,13,0)[72], fld=12, val=1[84])
 1131:[72] VarRef(var[60]) -> ref(1,13,0)={c:A}[72]
 1134:[84] ConstText(_value="One") -> "One"[84]
 1139:[100] SetText(v1=ref(1,13,0)[72], fld=4, val="One"[84])
 1142:[72] VarRef(var[60]) -> ref(1,13,0)={c:A,t:"One"}[72]
 1145:[84] ConstInt(val=1) -> 1[84]
 1150:[88] SetInt(v1=ref(1,13,0)[72], fld=8, val=1[84])
 1153:[72] VarRef(var[44]) -> ref(1,1,0)={v:[]}[72]
 1156:[84] VarRef(var[60]) -> ref(1,13,0)={c:A,t:"One",v:1}[84]
 1159:[96] FinishRecord(data=ref(1,1,0)[72], rec=ref(1,13,0)[84], parent_tp=19, fld=0)
 1164:[72] VarRef(var[44]) -> ref(1,1,0)={v:[{c:A,t:"One",v:1}]}[72]
 1167:[84] NewRecord(data=ref(1,1,0)[72], parent_tp=19, fld=0) -> ref(1,33,0)[72]
 1172:[84] PutRef(var[60], value=ref(1,33,0)[72])
 1175:[72] VarRef(var[60]) -> ref(1,33,0)={}[72]
 1178:[84] ConstEnum(val=2) -> B(2)[84]
 1180:[85] SetEnum(v1=ref(1,33,0)[72], fld=12, val=2[84])
 1183:[72] VarRef(var[60]) -> ref(1,33,0)={c:B}[72]
 1186:[84] ConstText(_value="Two") -> "Two"[84]
 1191:[100] SetText(v1=ref(1,33,0)[72], fld=4, val="Two"[84])
 1194:[72] VarRef(var[60]) -> ref(1,33,0)={c:B,t:"Two"}[72]
 1197:[84] ConstInt(val=2) -> 2[84]
 1202:[88] SetInt(v1=ref(1,33,0)[72], fld=8, val=2[84])
 1205:[72] VarRef(var[44]) -> ref(1,1,0)={v:[{c:A,t:"One",v:1}]}[72]
 1208:[84] VarRef(var[60]) -> ref(1,33,0)={c:B,t:"Two",v:2}[84]
 1211:[96] FinishRecord(data=ref(1,1,0)[72], rec=ref(1,33,0)[84], parent_tp=19, fld=0)
 1216:[72] VarRef(var[44]) -> ref(1,1,0)={v:[{c:A,t:"One",v:1},{c:B,t:"Two",v:2}]}[72]
 1219:[84] NewRecord(data=ref(1,1,0)[72], parent_tp=19, fld=0) -> ref(1,37,0)[72]
 1224:[84] PutRef(var[60], value=ref(1,37,0)[72])
 1227:[72] VarRef(var[60]) -> ref(1,37,0)={}[72]
 1230:[84] ConstEnum(val=3) -> C(3)[84]
 1232:[85] SetEnum(v1=ref(1,37,0)[72], fld=12, val=3[84])
 1235:[72] VarRef(var[60]) -> ref(1,37,0)={c:C}[72]
 1238:[84] ConstText(_value="Two") -> "Two"[84]
 1243:[100] SetText(v1=ref(1,37,0)[72], fld=4, val="Two"[84])
 1246:[72] VarRef(var[60]) -> ref(1,37,0)={c:C,t:"Two"}[72]
 1249:[84] ConstInt(val=20) -> 20[84]
 1254:[88] SetInt(v1=ref(1,37,0)[72], fld=8, val=20[84])
 1257:[72] VarRef(var[44]) -> ref(1,1,0)={v:[{c:A,t:"One",v:1},{c:B,t:"Two",v:2}]}[72]
 1260:[84] VarRef(var[60]) -> ref(1,37,0)={c:C,t:"Two",v:20}[84]
 1263:[96] FinishRecord(data=ref(1,1,0)[72], rec=ref(1,37,0)[84], parent_tp=19, fld=0)
 1268:[72] VarRef(var[44]) -> ref(1,1,0)={v:[{c:A,t:"One",v:1},{c:B,t:"Two",v:2},{c:C,t:"Two",v:20}]}[72]
 1271:[84] NewRecord(data=ref(1,1,0)[72], parent_tp=19, fld=0) -> ref(1,41,0)[72]
 1276:[84] PutRef(var[60], value=ref(1,41,0)[72])
 1279:[72] VarRef(var[60]) -> ref(1,41,0)={}[72]
 1282:[84] ConstEnum(val=1) -> A(1)[84]
 1284:[85] SetEnum(v1=ref(1,41,0)[72], fld=12, val=1[84])
 1287:[72] VarRef(var[60]) -> ref(1,41,0)={c:A}[72]
 1290:[84] ConstText(_value="Three") -> "Three"[84]
 1297:[100] SetText(v1=ref(1,41,0)[72], fld=4, val="Three"[84])
 1300:[72] VarRef(var[60]) -> ref(1,41,0)={c:A,t:"Three"}[72]
 1303:[84] ConstInt(val=3) -> 3[84]
 1308:[88] SetInt(v1=ref(1,41,0)[72], fld=8, val=3[84])
 1311:[72] VarRef(var[44]) -> ref(1,1,0)={v:[{c:A,t:"One",v:1},{c:B,t:"Two",v:2},{c:C,t:"Two",v:20}]}[72]
 1314:[84] VarRef(var[60]) -> ref(1,41,0)={c:A,t:"Three",v:3}[84]
 1317:[96] FinishRecord(data=ref(1,1,0)[72], rec=ref(1,41,0)[84], parent_tp=19, fld=0)
 1322:[72] VarRef(var[44]) -> ref(1,1,0)={v:[{c:A,t:"One",v:1},{c:A,t:"Three",v:3},{c:B,t:"Two",v:2},{c:C,t:"Two",v:20}]}[72]
 1325:[84] NewRecord(data=ref(1,1,0)[72], parent_tp=19, fld=0) -> ref(1,45,0)[72]
 1330:[84] PutRef(var[60], value=ref(1,45,0)[72])
 1333:[72] VarRef(var[60]) -> ref(1,45,0)={}[72]
 1336:[84] ConstEnum(val=3) -> C(3)[84]
 1338:[85] SetEnum(v1=ref(1,45,0)[72], fld=12, val=3[84])
 1341:[72] VarRef(var[60]) -> ref(1,45,0)={c:C}[72]
 1344:[84] ConstText(_value="Four") -> "Four"[84]
 1350:[100] SetText(v1=ref(1,45,0)[72], fld=4, val="Four"[84])
 1353:[72] VarRef(var[60]) -> ref(1,45,0)={c:C,t:"Four"}[72]
 1356:[84] ConstInt(val=4) -> 4[84]
 1361:[88] SetInt(v1=ref(1,45,0)[72], fld=8, val=4[84])
 1364:[72] VarRef(var[44]) -> ref(1,1,0)={v:[{c:A,t:"One",v:1},{c:A,t:"Three",v:3},{c:B,t:"Two",v:2},{c:C,t:"Two",v:20}]}[72]
 1367:[84] VarRef(var[60]) -> ref(1,45,0)={c:C,t:"Four",v:4}[84]
 1370:[96] FinishRecord(data=ref(1,1,0)[72], rec=ref(1,45,0)[84], parent_tp=19, fld=0)
 1375:[72] Return(ret=1420[56], value=0, discard=28)
   39:[44] VarRef(var[32]) -> ref(1,1,0)={v:[{c:C,t:"Four",v:4},{c:A,t:"One",v:1},{c:A,t:"Three",v:3},{c:B,t:"Two",v:2},{c:C,t:"Two",v:20}]}[44]
   42:[56] GetField(v1=ref(1,1,0)[44], fld=8) -> ref(1,1,8)=[{c:A,t:"One",v:1},{c:A,t:"Three",v:3},{c:B,t:"Two",v:2},{c:C,t:"Four",v:4},{c:C,t:"Two",v:20}][44]
   45:[56] ConstText(_value="Three") -> "Three"[56]
   52:[72] ConstEnum(val=1) -> A(1)[72]
   54:[73] GetRecord(data=ref(1,1,8)[44], db_tp=21, no_keys=2, key1=A(1)[72], key2="Three"[56]) -> ref(1,41,0)[44]
   58:[56] GetInt(v1=ref(1,41,0)[44], fld=8) -> 3[44]
   61:[48] VarRef(var[32]) -> ref(1,1,0)={v:[{c:C,t:"Four",v:4},{c:A,t:"One",v:1},{c:A,t:"Three",v:3},{c:B,t:"Two",v:2},{c:C,t:"Two",v:20}]}[48]
   64:[60] GetField(v1=ref(1,1,0)[48], fld=8) -> ref(1,1,8)=[{c:A,t:"One",v:1},{c:A,t:"Three",v:3},{c:B,t:"Two",v:2},{c:C,t:"Four",v:4},{c:C,t:"Two",v:20}][48]
   67:[60] ConstText(_value="Two") -> "Two"[60]
   72:[76] ConstEnum(val=3) -> C(3)[76]
   74:[77] GetRecord(data=ref(1,1,8)[48], db_tp=21, no_keys=2, key1=C(3)[76], key2="Two"[60]) -> ref(1,37,0)[48]
   78:[60] GetInt(v1=ref(1,37,0)[48], fld=8) -> 20[48]
   81:[52] AddInt(v1=3[44], v2=20[48]) -> 23[44]
   82:[48] VarRef(var[32]) -> ref(1,1,0)={v:[{c:C,t:"Four",v:4},{c:A,t:"One",v:1},{c:A,t:"Three",v:3},{c:B,t:"Two",v:2},{c:C,t:"Two",v:20}]}[48]
   85:[60] GetField(v1=ref(1,1,0)[48], fld=4) -> ref(1,1,4)=[{c:C,t:"Four",v:4},{c:A,t:"One",v:1},{c:A,t:"Three",v:3},{c:B,t:"Two",v:2},{c:C,t:"Two",v:20}][48]
   88:[60] ConstInt(val=4) -> 4[60]
   93:[64] ConstText(_value="Four") -> "Four"[64]
   99:[80] GetRecord(data=ref(1,1,4)[48], db_tp=20, no_keys=2, key1="Four"[64], key2=4[60]) -> ref(1,45,0)[48]
  103:[60] GetInt(v1=ref(1,45,0)[48], fld=8) -> 4[48]
  106:[52] AddInt(v1=23[44], v2=4[48]) -> 27[44]
  107:[48] VarRef(var[32]) -> ref(1,1,0)={v:[{c:C,t:"Four",v:4},{c:A,t:"One",v:1},{c:A,t:"Three",v:3},{c:B,t:"Two",v:2},{c:C,t:"Two",v:20}]}[48]
  110:[60] FreeRef(v1=ref(1,1,0)[48])
  111:[48] FreeStack(value=4, discard=16)
  115:[36] VarInt(var[32]) -> 27[36]
  118:[40] ConstInt(val=27) -> 27[40]
  123:[44] EqInt(v1=27[36], v2=27[40]) -> true[36]
  124:[37] GotoFalseWord(jump=130, if_false=true[36])
  127:[36] GotoWord(jump=180)
  180:[36] FreeText(var[8])
  183:[36] Return(ret=4294967295[4], value=0, discard=32)
Finished
