fn main() {#block(1):void
  __work_2(1):text = "";
  __work_1(1):text = "";
  a(1):text["a"] = "";
  OpAppendText(a(1), "1");
  OpAppendText(a(1), "2");
  if OpEqText({#Formatted string(2):text
    __work_1(1):text = "'";
    OpFormatText(__work_1(1), a(1), 4i32, -1i32, 32i32);
    OpAppendText(__work_1(1), "'");
    __work_1(1);
  }#Formatted string(2):text, "'12  '") null else OpPanic("Formatting text");
  if OpEqInt(_tp_text_len({#Add text(3):text["__work_2"]
    OpClearText(__work_2(1));
    OpAppendText(__work_2(1), a(1));
    OpAppendText(__work_2(1), "123");
    __work_2(1);
  }#Add text(3):text["__work_2"]), 5i32) null else OpPanic("Text length");
  OpFreeText(a(1));
  OpFreeText(__work_1(1));
  OpFreeText(__work_2(1));
}#block(1):void

byte-code for tests/suite/02-text.lav:main() [1074]
   0[0]: return-address
   0[4]: Text() var=__work_2[8]:text
   1[28]: Text() var=__work_1[32]:text
   2[52]: Text() var=a[56]:text["a"]
   3[76]: ConstText(_value="1") -> text
   6[92]: AppendText(var[56], v1: text)
   9[76]: ConstText(_value="2") -> text
  12[92]: AppendText(var[56], v1: text)
  15[76]: ClearText(var[32]) var=__work_1[32]:text
  18[76]: ConstText(_value="'") -> text
  21[92]: AppendText(var[32], v1: text)
  24[76]: VarText(var[56]) -> text var=a[56]:text["a"]
  27[92]: ConstInt(val=4) -> integer
  32[96]: FormatText(var[32], val: text, width: integer, dir=-1, token=32)
  37[76]: ConstText(_value="'") -> text
  40[92]: AppendText(var[32], v1: text)
  43[76]: VarText(var[32]) -> text var=__work_1[32]:text
  46[92]: ConstText(_value="'12  '") -> text
  54[108]: EqText(v1: text, v2: text) -> boolean
  55[77]: GotoFalseWord(jump=61, if_false: boolean)
  58[76]: GotoWord(jump=79)
  61[76]: ConstText(_value="Formatting text") -> text
  78[92]: Panic(message: text)
  79[76]: ClearText(var[8])
  82[76]: VarText(var[56]) -> text var=a[56]:text["a"]
  85[92]: AppendText(var[8], v1: text)
  88[76]: ConstText(_value="123") -> text
  93[92]: AppendText(var[8], v1: text)
  96[76]: VarText(var[8]) -> text var=__work_2[8]:text
  99[92]: Call(size=0, call=_tp_text_len[318])
 106[80]: ConstInt(val=5) -> integer
 111[84]: EqInt(v1: integer, v2: integer) -> boolean
 112[77]: GotoFalseWord(jump=118, if_false: boolean)
 115[76]: GotoWord(jump=132)
 118[76]: ConstText(_value="Text length") -> text
 131[92]: Panic(message: text)
 132[76]: FreeText(var[56])
 135[76]: FreeText(var[32])
 138[76]: FreeText(var[8])
 141[76]: Return(ret=0, value=0, discard=76)

